

<div class="row">
    <div class="col-lg-12">

        <div class="portlet portlet-default">
            <div class="portlet-heading">
                <div class="portlet-title">
                    <h4>Reported Users</h4>
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="portlet-body">
                <div class="table-responsive">
                    <table id="example-table" class="table table-striped table-bordered table-hover table-green" datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs">
                        <thead>
                            <tr>
                                <th>User reported</th>
                                <th>Reported User</th>
                                <th>Reason</th>
                                <th>Reported Date</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="report in listReport">
                                <td><a href="/admin/#/userprofile/{{report.ReporterUsername}}">{{report.ReporterFullname}}</a></td>
                                <td><a href="/admin/#/userprofile/{{report.ReportedUsername}}">{{report.ReportedFullname}}</a></td>
                                <td>{{report.Subject}}</td>
                                <td>{{report.ReportedDate}}</td>
                                <td>
                                    <a class="btn btn-xs"
                                       ng-class="{
                                       'btn-blue': report.Status == 'Viewed'
                                       ,'btn-red': report.Status == 'Waiting'
                                       ,'btn-purple': report.Status == 'Canceled'
                                       ,'btn-default': report.Status == 'Confirmed'}">{{report.Status}}</a>
                                </td>
                                <td>
                                    <button class="btn btn-blue" data-toggle="modal" data-target="#viewMessageModal" ng-click="loadReportContent(report.ReportID)">View</button>
                                    <button class="btn btn-default" ng-click="changeReportStatus(report.ReportID,'Confirmed')" ng-if="report.Status != 'Canceled' && report.Status != 'Confirmed' ">Confirmed</button>
                                    <button class="btn btn-purple" ng-click="changeReportStatus(report.ReportID,'Canceled')" ng-if="report.Status != 'Canceled' && report.Status != 'Confirmed' ">Cancel</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.portlet-body -->
        </div>
        <!-- /.portlet -->

    </div>
    <!-- /.col-lg-12 -->
</div>


<!-- Ask question -->
<div class="modal fade" id="reply" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h5 class="modal-title" id="myModalLabel">{{newReply.Title}}</h5>
            </div>
            <div class="modal-body">
                <h5 class="fnt20"><span class="fnt-n">Tới: {{reportContent.ReporterFullname}}({{newReply.ToUser}})</span> </h5>
                <h5 class="fnt20 fnt-n">Nội dung:</h5>
                <textarea class="form-control" style="resize: none" name="" id="" cols="30" rows="5"
                          ng-model="newReply.Content"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-info" ng-click="sendReply()" data-dismiss="modal">Gửi trả lời</button>
            </div>
        </div>
    </div>
</div>
<!-- end question modal -->
<!-- Flex Modal -->
<div class="modal modal-flex fade" id="viewMessageModal" tabindex="-1" role="dialog" aria-labelledby="flexModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form role="form">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="flexModalLabel">
                        View report content
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="exampleInputEmail1">From:</label> <span>{{reportContent.ReporterFullname}}</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Subject:</label> <span>{{reportContent.Subject}}</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword1">Content:</label>
                        <textarea readonly class="form-control" id="exampleInputPassword1" placeholder="Description..."
                                  rows="6" cols="50" maxlength="300" style="resize: none">
                            {{reportContent.ReportContent}}
                        </textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> <button type="button" class="btn btn-green" data-dismiss="modal" data-toggle="modal" data-target="#reply">Reply</button>
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<!-- /.modal -->